<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>When Two Soules Met</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="particles" id="particles"></div>
    
    <!-- Music Dialog -->
    <div class="music-dialog" id="musicDialog">
        <h3>Romantic Journey Ahead</h3>
        <p>For the best experience, click the music button to play romantic background music while you explore Your story how lucky you are Shreeya.</p>
        <button class="dialog-btn" id="dialogCloseBtn">Got It!</button>
    </div>
    
    <!-- Audio Controls -->
    <div class="audio-controls">
        <div class="controls-row">
            <button class="audio-btn" id="audioToggle">
                <span class="audio-icon">ðŸŽµ</span>
            </button>
            <div class="volume-control">
                <input type="range" id="volumeSlider" min="0" max="100" value="50" class="volume-slider">
            </div>
        </div>
        <div class="music-info" id="musicInfo">Click ðŸŽµ to play music</div>
    </div>
    
    <audio id="backgroundMusic" preload="auto" loop>
        <source src="dhun.mp3" type="audio/mpeg">
        <source src="dhun.wav" type="audio/wav">
        <source src="dhun.ogg" type="audio/ogg">
    </audio>
    
    <div class="container">
        <!-- Cover Section -->
        <div class="story-section active" data-section="0">
            <div class="story-card cover-card">
                <div class="section-indicator">Welcome</div>
                <br>
                <h1 class="cover-title">CHUBU DON </h1>
                <p class="cover-subtitle">INTO MY LIFE<span class="heart"> â™¥</span></p>
                <div class="photo-container">
                    <div class="photo-frame">
                      <img src="shreeya21.jpeg" alt="Shreeya" class="story-photo">
                    </div>
                </div>
                  
            </div>
        </div>

        <!-- Section 1 -->
        <div class="story-section" data-section="1">
            <div class="story-card">
                <div class="section-indicator">Chapter 1</div>
                <h2>The Beginning</h2>
                <p class="story-text">
                    There was a girl named <strong>Shreeya</strong> who came into my life on 
                    <span class="date-highlight">28th January 2025</span>â€”a day I'll never forget. 
                    From that moment, something changed in me.
                </p>
                <p class="story-text">
                    She brought with her a kind of happiness I hadn't felt in a long time. 
                    For the first time in years, I smiled from the heartâ€”and it was because of her.
                </p>
            </div>
        </div>

        <!-- Section 2 -->
        <div class="story-section" data-section="2">
            <div class="story-card">
                <div class="section-indicator">Chapter 2</div>
                <h2>Her Magic</h2>
                <div class="photo-container">
                    <div class="photo-frame">
                      <img src="shreeya2.jpeg" alt="Shreeya" class="story-photo">
                    </div>
                </div>
                <p class="story-text">
                    Her presence was like a calm breeze in the chaos of my world. 
                    Her eyes, so deep and beautiful, had a magic of their own.
                </p>
            </div>
        </div>

        <!-- Section 3 -->
        <div class="story-section" data-section="3">
            <div class="story-card">
                <div class="section-indicator">Chapter 3</div>
                <h2>Lost in Her Eyes</h2>
                <p class="story-text">
                    Just looking into them felt like getting lost in another worldâ€”a world 
                    where I felt peace, warmth, and something close to love.
                </p>
                <div class="video-container">
                    <div class="video-frame">
                      <video autoplay muted loop playsinline class="story-video rotated-video">
                        <source src="shreeya3.mp4" type="video/mp4">
                        Your browser does not support HTML5 video.
                      </video>
                    </div>
                  </div>
                  
                <p class="story-text">
                    They had the kind of charm that could make you feel intoxicated, 
                    without a drop of alcohol.
                </p>
            </div>
        </div>

        <!-- Section 4 -->
        <div class="story-section" data-section="4">
            <div class="story-card">
                <div class="section-indicator">Chapter 4</div>
                <h2>First Gifts</h2>
                <p class="story-text">
                    Before her, no one had ever given me gifts. But she did. 
                    Not because it was expectedâ€”just because she cared.
                </p>
                <div class="photo-container">
                    <div class="photo-frame">
                      <img src="gifts.jpeg" alt="Shreeya" class="story-photo">
                    </div>
                </div>

                <p class="story-text">
                    I still remember the chocolates she gave meâ€¦ flavors I had never tasted before. 
                    And somehow, those chocolates became specialâ€”not just because of how they tasted, 
                    but because of <strong>who gave them to me</strong>.
                </p>
            </div>
        </div>

        <!-- Section 5 -->
        <div class="story-section" data-section="5">
            <div class="story-card">
                <div class="section-indicator">Chapter 5</div>
                <h2>Our Lucky Number</h2>
                <p class="story-text">
                    Tomorrow is <span class="date-highlight">28th July</span>â€”and the 28th 
                    has always felt lucky for us. It's like the universe chose this date 
                    to write a new story in our lives.
                </p>
            </div>
        </div>

        <!-- Section 6 -->
        <div class="story-section" data-section="6">
            <div class="story-card">
                <div class="section-indicator">Forever</div>
                <h2>Forever Grateful</h2>
                <p class="story-text">
                    And now, every time the 28th comes around, I'm reminded of how she made 
                    me feel seen, heard, and valued. She made ordinary moments feel unforgettable.
                </p>
                <div class="video-container">
                    <div class="video-frame">
                      <video autoplay muted loop playsinline class="story-video rotated-meet-video">
                        <source src="ourfirstmeet.mp4" type="video/mp4">
                        Your browser does not support HTML5 video.
                      </video>
                    </div>
                  </div>
                  
                <p class="story-text">
                    To me, Shreeya isn't just a nameâ€”she's a memory, a feeling, 
                    a light in my life that I'll always be grateful for.
                </p>
            </div>
        </div>

        <!-- Section 7 -->
        <div class="story-section" data-section="7">
            <div class="story-card">
                <div class="section-indicator">Our Song</div>
                <h2>From My Heart</h2>
                <p class="story-text">
                    Kal 28 July aa oh din jadon assi pehli vaar gal kiti si.
                    Oh sirf ik normal din nahi siâ€¦ mere layi oh din ik yaadgar pal ban gaya.
                    Tere shabdan vich ik ajehi feeling si, jo dil tak utar gayi.
                    28 Date ek ehji date bn chuki h jo mere aaste khushiyan le aandian ne.
                </p>
                <p class="story-text">
                    Oh gallbaat sirf lafzan tak simit nahi siâ€¦ oh mere dil di awaaz ban gayi.
                    Ajj vi oh din yaad aake dil nu khushi dinda, jaivein rabb ne oh din mere layi khas banaya hove.
                </p>
                <p class="story-text">
                    Sach dassaâ€¦ mai tenu life ch chahna haan not just for now,
                    but forever and ever.
                    Tere naal gall karna, tenu mehsoos karna,
                    eh sab kuch meri zindagi da sab ton khoobsurat hissa ban chuke ne.
                </p>
            </div>
        </div>
    </div>

    <!-- Side Navigation -->
    <div class="navigation" id="sideNav">
        <div class="nav-dot active" data-section="0"></div>
        <div class="nav-dot" data-section="1"></div>
        <div class="nav-dot" data-section="2"></div>
        <div class="nav-dot" data-section="3"></div>
        <div class="nav-dot" data-section="4"></div>
        <div class="nav-dot" data-section="5"></div>
        <div class="nav-dot" data-section="6"></div>
        <div class="nav-dot" data-section="7"></div>
    </div>

    <!-- Bottom Navigation -->
    <div class="bottom-nav">
        <button class="nav-btn" id="prevBtn" onclick="previousSection()">Previous â—€</button>
        <button class="nav-btn" id="nextBtn" onclick="nextSection()">Next â–¶</button>
    </div>

    <script>
        let currentSection = 0;
        const totalSections = 7;
        let isPlaying = false;


        document.addEventListener('DOMContentLoaded', function() {
    // Create love-themed particles
    const particlesContainer = document.querySelector('.particles');
    const particleCount = 30;
    
    for (let i = 0; i < particleCount; i++) {
        createParticle();
    }
    
    function createParticle() {
        // Create particle element
        const particle = document.createElement('div');
        particle.classList.add('particle');
        
        // Randomly decide if it's a heart or sparkle
        const isHeart = Math.random() > 0.7;
        
        if (isHeart) {
            particle.classList.add('heart-particle');
        } else {
            particle.classList.add('sparkle-particle');
        }
        
        // Random position
        const posX = Math.random() * 100;
        const posY = Math.random() * 100;
        
        // Random size
        const size = isHeart ? 
            (8 + Math.random() * 8) : 
            (4 + Math.random() * 4);
        
        // Random animation duration
        const duration = 10 + Math.random() * 20;
        
        // Random delay
        const delay = Math.random() * 5;
        
        // Apply styles
        particle.style.left = `${posX}%`;
        particle.style.top = `${posY}%`;
        particle.style.width = `${size}px`;
        particle.style.height = `${size}px`;
        particle.style.animationDuration = `${duration}s`;
        particle.style.animationDelay = `${delay}s`;
        
        // Add to container
        particlesContainer.appendChild(particle);
        
        // When animation ends, recreate particle
        particle.addEventListener('animationend', function() {
            particle.remove();
            createParticle();
        });
    }
});

        // Show music dialog on page load
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                document.getElementById('musicDialog').classList.add('show');
            }, 1000);
        });

        // Close music dialog
        document.getElementById('dialogCloseBtn').addEventListener('click', function() {
            document.getElementById('musicDialog').classList.remove('show');
        });

        // Create floating particles
        function createParticle() {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + 'vw';
            particle.style.animationDuration = (Math.random() * 3 + 5) + 's';
            particle.style.animationDelay = Math.random() * 2 + 's';
            
            document.getElementById('particles').appendChild(particle);
            
            setTimeout(() => {
                particle.remove();
            }, 8000);
        }

        // Create particles continuously
        setInterval(createParticle, 300);

        function updateNavigation() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            prevBtn.disabled = currentSection === 0;
            nextBtn.disabled = currentSection === totalSections;

            // Update side navigation dots
            document.querySelectorAll('.nav-dot').forEach((dot, index) => {
                dot.classList.toggle('active', index === currentSection);
            });
        }

        function showSection(sectionIndex) {
            // Hide all sections first
            document.querySelectorAll('.story-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Show the target section after a small delay for smooth transition
            setTimeout(() => {
                const targetSection = document.querySelector(`[data-section="${sectionIndex}"]`);
                if (targetSection) {
                    targetSection.classList.add('active');
                }
            }, 100);
            
            currentSection = sectionIndex;
            updateNavigation();
        }

        function nextSection() {
            if (currentSection < totalSections) {
                showSection(currentSection + 1);
            }
        }

        function previousSection() {
            if (currentSection > 0) {
                showSection(currentSection - 1);
            }
        }

        // Side navigation click handlers
        document.querySelectorAll('.nav-dot').forEach((dot, index) => {
            dot.addEventListener('click', () => {
                showSection(index);
            });
        });

        // Photo upload functionality
        document.querySelectorAll('.photo-placeholder').forEach(placeholder => {
            placeholder.addEventListener('click', (e) => {
                e.stopPropagation();
                const input = document.createElement('input');
                input.type = 'file';
                input.accept = 'image/*';
                input.onchange = (e) => {
                    const file = e.target.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = (e) => {
                            const frame = placeholder.parentElement;
                            frame.style.backgroundImage = `url(${e.target.result})`;
                            frame.style.backgroundSize = 'cover';
                            frame.style.backgroundPosition = 'center';
                            placeholder.style.display = 'none';
                        };
                        reader.readAsDataURL(file);
                    }
                };
                input.click();
            });
        });

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' || e.key === 'ArrowDown' || e.key === ' ') {
                e.preventDefault();
                nextSection();
            } else if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {
                e.preventDefault();
                previousSection();
            }
        });

        // Touch/swipe support
        let startY = 0;
        let startX = 0;

        document.addEventListener('touchstart', (e) => {
            startY = e.touches[0].clientY;
            startX = e.touches[0].clientX;
        });

        document.addEventListener('touchend', (e) => {
            const endY = e.changedTouches[0].clientY;
            const endX = e.changedTouches[0].clientX;
            const diffY = startY - endY;
            const diffX = startX - endX;

            // Vertical swipe
            if (Math.abs(diffY) > Math.abs(diffX) && Math.abs(diffY) > 50) {
                if (diffY > 0) {
                    nextSection(); // Swipe up = next section
                } else {
                    previousSection(); // Swipe down = previous section
                }
            }
            // Horizontal swipe
            else if (Math.abs(diffX) > 50) {
                if (diffX > 0) {
                    nextSection(); // Swipe left = next section
                } else {
                    previousSection(); // Swipe right = previous section
                }
            }
        });

        // Mouse wheel navigation
        document.addEventListener('wheel', (e) => {
            e.preventDefault();
            if (e.deltaY > 0) {
                nextSection();
            } else {
                previousSection();
            }
        }, { passive: false });

        // Initialize
        updateNavigation();

        // Audio functionality
        const audioElement = document.getElementById('backgroundMusic');
        const audioToggle = document.getElementById('audioToggle');
        const volumeSlider = document.getElementById('volumeSlider');
        const musicInfo = document.getElementById('musicInfo');

        // Set initial volume
        audioElement.volume = volumeSlider.value / 100;

        // Show initial instruction after page loads
        setTimeout(() => {
            if (!isPlaying) {
                musicInfo.classList.add('show');
            }
        }, 2000);

        // Play/Start music functionality
        audioToggle.addEventListener('click', function() {
            if (!isPlaying) {
                musicInfo.textContent = 'Loading music...';
                musicInfo.classList.add('show');

                audioElement.currentTime = 96;
                
                audioElement.play().then(() => {
                    isPlaying = true;
                    audioToggle.classList.add('playing');
                    audioToggle.querySelector('.audio-icon').textContent = 'ðŸŽ¶';
                    musicInfo.textContent = 'â™ª CHUBU DON';
                }).catch(error => {
                    console.error("Audio playback failed:", error);
                    musicInfo.textContent = 'Error playing music';
                    setTimeout(() => {
                        musicInfo.classList.remove('show');
                    }, 2000);
                });
            } else {
                audioElement.pause();
                isPlaying = false;
                audioToggle.classList.remove('playing');
                audioToggle.querySelector('.audio-icon').textContent = 'ðŸŽµ';
                musicInfo.textContent = 'Music paused';
                setTimeout(() => {
                    musicInfo.classList.remove('show');
                }, 2000);
            }
        });

        // Volume control
        volumeSlider.addEventListener('input', function() {
            audioElement.volume = this.value / 100;
        });

        // Show music info when hovering audio controls
        audioToggle.addEventListener('mouseenter', function() {
            if (isPlaying) {
                musicInfo.textContent = 'â™ª Playing: dhun.mp3';
                musicInfo.classList.add('show');
            }
        });

        // Hide music info after delay when leaving controls
        const audioControls = document.querySelector('.audio-controls');
        audioControls.addEventListener('mouseleave', function() {
            setTimeout(() => {
                musicInfo.classList.remove('show');
            }, 1000);
        });

        // Update music info when song ends (though it's set to loop)
        audioElement.addEventListener('ended', function() {
            isPlaying = false;
            audioToggle.classList.remove('playing');
            audioToggle.querySelector('.audio-icon').textContent = 'ðŸŽµ';
        });

        // Handle page visibility changes to pause/play music
        document.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                if (isPlaying) {
                    audioElement.pause();
                }
            } else {
                if (isPlaying) {
                    audioElement.play().catch(e => console.log("Autoplay prevented:", e));
                }
            }
        });
    </script>
</body>
</html>